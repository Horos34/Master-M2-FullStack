global:
  scrape_interval: 30s
  evaluation_interval: 30s
  external_labels:
    monitor: "solar-farms-monitor"

scrape_configs:
  # Scraper le simulateur solaire
  - job_name: "solar-simulator"
    scrape_interval: 30s
    scrape_timeout: 10s
    metrics_path: "/metrics"
    
    static_configs:
      - targets: ["solar-simulator:9090"]
        labels:
          service: "solar-simulator"
          environment: "production"
    
    # Retry logic
    scrape_failure_handler:
      scrape_failure_retries: 3

  # Auto-discovery (optionnel pour Kubernetes)
  # - job_name: "kubernetes-pods"
  #   kubernetes_sd_configs:
  #     - role: pod
